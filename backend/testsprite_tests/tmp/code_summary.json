{
  "tech_stack": [
    "Python 3.x",
    "FastAPI",
    "Uvicorn",
    "Firebase Admin SDK",
    "Firebase Firestore",
    "Firebase Authentication",
    "Web3.py",
    "Ethereum",
    "Pydantic",
    "JWT",
    "Passlib",
    "Cryptography",
    "SMTP Email Service",
    "Multipart File Upload",
    "CORS Middleware",
    "Zero-Knowledge Proofs",
    "Blockchain Integration"
  ],
  "features": [
    {
      "name": "Authentication System",
      "description": "Complete Firebase-based authentication with signup, login, password reset, and token verification",
      "files": ["server.py", "firebase_auth.py", "firebase_hybrid_auth.py", "email_service.py"],
      "api_doc": {
        "paths": {
          "/api/auth/signup": {"post": {"summary": "User registration with Firebase", "parameters": ["username", "email", "password", "user_type"]}},
          "/api/auth/login": {"post": {"summary": "User login with email/password", "parameters": ["email", "password"]}},
          "/api/auth/firebase/verify": {"post": {"summary": "Verify Firebase token", "headers": ["Authorization"]}},
          "/api/auth/forgot-password": {"post": {"summary": "Send password reset email", "parameters": ["email"]}},
          "/api/auth/verify-otp": {"post": {"summary": "Verify OTP for password reset", "parameters": ["email", "otp", "new_password"]}}
        }
      }
    },
    {
      "name": "Task Management APIs",
      "description": "Complete CRUD operations for freelance tasks with filtering, status updates, and escrow management",
      "files": ["server.py", "firebase_db.py"],
      "api_doc": {
        "paths": {
          "/api/tasks": {
            "post": {"summary": "Create new task", "parameters": ["title", "description", "category", "budget", "deadline", "skills", "expected_files_count", "validation_code"]},
            "get": {"summary": "Get all tasks with filtering", "parameters": ["category", "status", "limit"]}
          },
          "/api/tasks/{task_id}": {"get": {"summary": "Get specific task by ID"}},
          "/api/tasks/my-tasks": {"get": {"summary": "Get tasks posted by current user"}},
          "/api/tasks/{task_id}/status": {"put": {"summary": "Update task status"}},
          "/api/tasks/{task_id}/escrow-status": {"put": {"summary": "Update escrow status"}}
        }
      }
    },
    {
      "name": "File Upload and Management",
      "description": "Secure multi-file upload system with validation, storage, and download with authentication",
      "files": ["server.py"],
      "api_doc": {
        "paths": {
          "/api/submissions": {"post": {"summary": "Upload files with submission", "content-type": "multipart/form-data", "parameters": ["task_id", "description", "files"]}},
          "/api/download-file": {"get": {"summary": "Download files with token authentication", "parameters": ["file_path", "token"]}}
        }
      }
    },
    {
      "name": "Zero-Knowledge Proof System",
      "description": "Cryptographic ZKP validation using Pedersen Commitments and Schnorr proofs for file properties",
      "files": ["zkp_system.py", "server.py"],
      "api_doc": {
        "paths": {
          "/api/submissions/{submission_id}/generate-zkp": {"post": {"summary": "Generate ZKP for file validation"}},
          "/api/submissions/{submission_id}/verify-zkp": {"post": {"summary": "Verify ZKP proofs without accessing files"}}
        }
      }
    },
    {
      "name": "Partial Approval System",
      "description": "Individual file approval system with proportional payment calculation and resubmission support",
      "files": ["server.py", "firebase_db.py"],
      "api_doc": {
        "paths": {
          "/api/submissions/{submission_id}/files/{file_id}/approve": {"put": {"summary": "Approve individual file"}},
          "/api/submissions/{submission_id}/files/{file_id}/reject": {"put": {"summary": "Reject individual file with feedback"}},
          "/api/submissions/{submission_id}/files/index/{file_index}/approve": {"put": {"summary": "Approve file by index"}},
          "/api/submissions/{submission_id}/files/index/{file_index}/reject": {"put": {"summary": "Reject file by index"}},
          "/api/submissions/{submission_id}/bulk-approve": {"put": {"summary": "Bulk approve multiple files"}},
          "/api/submissions/{submission_id}/resubmit": {"post": {"summary": "Resubmit rejected files"}}
        }
      }
    },
    {
      "name": "Submission Management",
      "description": "Complete submission lifecycle management with status tracking and approval workflows",
      "files": ["server.py", "firebase_db.py"],
      "api_doc": {
        "paths": {
          "/api/submissions/task/{task_id}": {"get": {"summary": "Get all submissions for a task"}},
          "/api/submissions/my-submissions": {"get": {"summary": "Get user's submissions"}},
          "/api/submissions/{submission_id}": {"get": {"summary": "Get specific submission"}},
          "/api/submissions/{submission_id}/approve": {"put": {"summary": "Approve entire submission"}},
          "/api/submissions/{submission_id}/reject": {"put": {"summary": "Reject entire submission"}},
          "/api/tasks/{task_id}/can-submit": {"get": {"summary": "Check if user can submit to task"}}
        }
      }
    },
    {
      "name": "Payment and Blockchain Integration",
      "description": "Ethereum blockchain integration for escrow payments and automated transfers",
      "files": ["server.py", "partial_payment_blockchain.py"],
      "api_doc": {
        "paths": {
          "/api/payments/claim": {"post": {"summary": "Claim payment for approved work", "parameters": ["submission_id", "wallet_address", "transaction_hash"]}},
          "/api/payments/my-claims": {"get": {"summary": "Get user's payment claims"}},
          "/api/submissions/{submission_id}/payment-status": {"get": {"summary": "Check payment claim status"}},
          "/api/blockchain/status": {"get": {"summary": "Get blockchain connection and escrow status"}},
          "/api/blockchain/config": {"get": {"summary": "Get blockchain network configuration"}}
        }
      }
    },
    {
      "name": "User Management",
      "description": "User profile management with role-based access control",
      "files": ["server.py", "firebase_db.py"],
      "api_doc": {
        "paths": {
          "/api/users": {
            "post": {"summary": "Create new user", "parameters": ["username", "email", "user_type"]},
            "get": {"summary": "Get all users with filtering", "parameters": ["user_type", "limit"]}
          },
          "/api/users/{user_id}": {"get": {"summary": "Get user by ID"}}
        }
      }
    },
    {
      "name": "Email Service Integration",
      "description": "SMTP-based email service for password resets and notifications",
      "files": ["email_service.py", "server.py"],
      "api_doc": {
        "paths": {
          "/api/auth/forgot-password": {"post": {"summary": "Send password reset email"}},
          "/api/auth/verify-otp": {"post": {"summary": "Verify email OTP"}}
        }
      }
    }
  ]
}
